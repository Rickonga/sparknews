
<h1>Tweets of <%= @quotes.first.stock.name %> | <%= @quotes.first.stock.ticker %></h1>
<!-- create simple form for that allows us to create a new form on the database -->

<%= simple_form_for([@stock, @user_watchlist_stock]) do |f| %>
  <%= f.input :user_watchlist, collection: @user_watchlists %>
  <%= f.submit "create" %>
<% end %>

<% @with_flag_posts.each do |post| %>
  <div class="tweet-container">
    <div class="tweet-content">
      <div class="blog-container">
        <div class="blog-header">
          <div class="blog-author--no-cover">
            <img src="<%= post[:user].profile_image_url_https %>" width="100%" class="avatar-large" alt="avatar-large">
            <h3><%= post[:user].name %></h3>
            <div>
              <p><b> <%= post[:user].followers_count %> </b>followers</p>
            </div>
          </div>
        </div>
        <div class="blog-body">
          <div class="blog-summary">
            <p><%= post[:text] %></p>
          </div>
          <div class="blog-tags">
            <ul>
              <li><a href="#">design</a></li>
              <li><a href="#">web dev</a></li>
              <li><a href="#">css</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="side-rating">
      <ul>
        <li>
          <% tweet = [post[:user].name, post[:user].followers_count, post[:text], post[:created_at], post[:user].profile_image_url_https] %>
          <%= link_to saved_tweets_path(value: tweet), method: :post do %>
            <% if post[:bookmarked] %>
              <i class="fas fa-bookmark" style="font-size: 50px"></i>
            <% else %>
              <i class="far fa-bookmark" style="font-size: 50px"></i>
            <% end %>
          <% end %>
        </li>
        <li>
          <svg class="bi bi-caret-up-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M7.247 4.86l-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 00.753-1.659l-4.796-5.48a1 1 0 00-1.506 0z"/>
          </svg>
        <li>
          <p>68</p>
        </li>
        <li>
          <svg class="bi bi-caret-down-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 01.753 1.659l-4.796 5.48a1 1 0 01-1.506 0z"/>
          </svg>
        </li>
        <li>
          <svg class="bi bi-clock" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M8 15A7 7 0 108 1a7 7 0 000 14zm8-7A8 8 0 110 8a8 8 0 0116 0z" clip-rule="evenodd"/>
            <path fill-rule="evenodd" d="M7.5 3a.5.5 0 01.5.5v5.21l3.248 1.856a.5.5 0 01-.496.868l-3.5-2A.5.5 0 017 9V3.5a.5.5 0 01.5-.5z" clip-rule="evenodd"/>
          </svg>
          <p><i class="published-date">Created <%= time = (Time.now - post[:created_at]).round(2) %> seconds ago.</i></p>
        </li>
      </ul>
    </div>
  </div>
<% end %>

